[ { "title": "De fracasos y de éxitos (V)-Mis recursos para el OSCP...y en general.", "url": "/posts/Mis_recursos_para_el_OSCP_y_mas_alla/", "categories": "Blogging", "tags": "blog, knowledge, certificaciones, OSCP, superación, aprendizaje, consejos, recursos, conocimiento, Spanish", "date": "2023-09-11 10:28:21 +0200", "snippet": "Mis recursos recomendados para preparar el OSCP, los que a mí me sirvieron (actualizados al 2023)Tras los típicos Consejos sobre la certificación, que valdrían para cualquier otro tipo de preparación, vayamos ahora ya a lo que busca todo el mundo: La Guía Definitiva. El Santo Grial. La Piedra Filosofal. Aquello que me hará “clavar” la certificación. Pues lo siento, pero esa idea no existe, amig@s. Porque el aprendizaje ha de ser flexible y continuo, y debe saber adaptarse a los cambios. Porque no hay nada más cambiante que las nuevas tecnologías y la seguridad que a ellas está ligada. Cada día surgen nuevas vulnerabilidades, y se parchean otras. Las herramientas que ayer te servían, hoy son obsoletas , detectables hasta por el Antivirus más casposo del mercado, o ya no funcionan como deberían. Y finalmente, porque el camino es tuyo, y sólo depende de ti. Es tu proceso y sus circunstancias.Sin embargo, en cuanto a formación, yo distinguiría, lo que considero que debemos saber de base, para dedicarnos a esto del hacking ético y el pentesting, ya sea por hobby o profesionalmente, y lo que se realmente necesitamos para el OSCP.Comencemos.Conocimientos “de base”.Entre las disciplinas que recomendaría como “Pre-requisitos”, lo primero es, empezando por las “habilidades blandas,” y siguiendo por las más técnicas: Muchísima tolerancia a la frustración. No desarrollaré más esto. En realidad ya sabéis a lo que me refiero. Un nivel aceptable de Inglés. Por lo menos, lo vas a necesitar para poder ver toda la cantidad de material que hay sobre hacking y pentesting en esta lengua. Porque en España hay muy buenos profesionales sí. Y cada vez mejor material en español. Pero ¿Por qué contentarte con el vaso medio lleno? Así que si no sabes inglés, con la cantidad de recursos que hay en Internet, ya no tienes excusa. ¡Ponte las pilas y me lo agradecerás! Mucha curiosidad. Cuestiónate todo. Comprende su forma de funcionar, para buscar la forma en la que puede fallar. Lo que descubrí cuando empecé a aprender en esto es que había pasado demasiados años configurando Sistemas, y desarrollando software. Siendo un “buen soldado”. Probaba la funcionalidad que se supone que tenía que probar. Y de la forma en la que tenía que probar las cosas. Así que los fallos eran “los esperados”. Se corregían y punto. Hacía lo que se supone que tenía que hacer. Hasta que conecté con esa “curiosidad” semienterrada por años de “institucionalización” (nuevamente una referencia a la que para mí es una gran película: “Cadena Perpetua”). Había perdido esa curiosidad que me había hecho entrar en esto de la Informática, de aprender y aplicar cosas nuevas. De conectar realidades diferentes. Y empecé a tomar contacto con ese “lado”. Empecé a preguntarme “¿Y si hago esto en vez de esto…?”, sin miedo a provocar el fallo. De hecho, como investigador, debemos averiguar la manera de que las cosas fallan, para que otros indeseables no lo hagan y se aprovechen de esos errores. Debemos forzar la manera en la que el sistema ha sido concebido, tratando de usarlo para aquello que no ha sido pensado. A veces incluso de las maneras más creativas posibles. Fomenta pues tu lado creativo. Esa es la mejor actitud que puedo recomendarte, en la que yo aún sigo trabajando. Visión global. La especialización es vital, si no queréis acabar fatal de la cabeza. Algún día os hablaré de las discusiones a cuatro bandas de mi “yo programador” al “yo administrador de sistemas”, al “yo defensivo” y al “yo red ofensivo”. A tortazo limpio… Pero creo firmemente que una visión “global o general”, así, a vista de pájaro, de la Tecnología y sus avances en todos los campos, y no solo en el que nos especializamos, aunque sea sin profundizar en mucho detalle, pero como toma de contacto inicial, es también muy necesario, para no perder perspectiva. En ese sentido, además de los típicos blogs y noticias relacionadas con vulnerabilidades, ataques, parches, y demás, estaría bien seguir algunos canales técnicos (y no técnicos) de otros campos. Vivimos en un mundo interconectado y global. Y hoy más que nunca, el “Efecto Mariposa” de la “Teoría del Caos” está más vigente que nunca. Humildad para reconocer (y aprender de) los fallos, ayudar y avanzar en equipo. Y confianza para defender los aciertos, sin caer en la vanidad. Difícil, ¿eh? Un buen sistema de toma de notas y practicar con él desde el minuto 0, como lo harías con el resto de cosas que aprendas. Yo recomendaría Obsidian, que trabaja incluso en local, con markdown y tiene una comunidad y muchos plugins interesantes detrás. O si quieres un servicio ya en la nube, Notion es muy buena opción también. Pero si eres de l@s que se apañan todavía con CherryTree, pues también… Conocimientos básicos de Redes. Es la base para entender el funcionamiento de puertos, protocolos y servicios. Desde el modelo OSI al TCP/IP. Al menos tener una idea básica. He dicho básicos, no hace falta que sepas configurar un router CISCO, pero si llegas a eso, probablemente ya tengas un nivel aceptable de conocimiento. Los vídeos gratuitos de Professor Messer son muy buenos. Funcionamiento básico de los Sistemas Operativos. Al menos Windows y Linux. Comandos básicos para la configuración, Transferencia de ficheros en uno y otro sistema, manipulación del firewall en línea de comandos, manipulación del AV en línea de comandos. Bash Script básico y PowerShell básico (ahora también tienes pwsh en Linux y e incluso WSL (Subsistema de Windows en Linux) en Windows, así que no hay excusa). Y no me refiero a quedarte en el GUI, que también. Aprende a tirar de mucho de línea de comandos… Empleo de técnicas dde Virtualización con VirtualBOX, VMWare Player, VMWare Workstation Pro , el Hyper-V de Windows 10/11 o QEMU.Lo que quieras para virtualizar entornos. Junto con el uso de contenedores, te puede ayudar a montarte rápidamente tus propios laboratorios. Sobre todo si no dispones de mucho espacio o recursos. Si luego ya dominas cloud con AWS, Azure, GC, o lo que sea, con Terraform o similar, ese ya será el siguiente paso para montarte unos labs en condiciones (y ahí prepárate a soltar algo de dinero). Pero con lo básico, para empezar a coste 0, tienes opciones. Empleo de Contenedores: Docker. Por lo mismo. Para probar PoCs, programas, tools, etc. bajándote imagénes de contenedore ya existentes, o creando las tuyas propias, iniciando instancias, probando, parando, y vuelta a empezar. Empleo de Sistemas de control de versiones de código: Git. Luego ya, si te gusta más GitLab que GitHub, a tu criterio. Empleo de IDEs para desarrollo, editores con esteroides o como quieras llamarlos (VSCode, Notepad++, vim, nvim, …) Empleo de algún lenguaje de programación, por lo menos, sencillo. No voy a entrar en una batalla sobre cual es mejor. Paso de polémicas. Si te sobra el tiempo, C (aunque da miedo), tiene una curva de aprendizaje alta, pero si dominas C (ojo, yo no lo domino ni mucho menos), cualquier lenguaje será coser y cantar. Si no, para scripting y pentesting, con Python te valdría, en un principio. A mí personalmente también me gusta mucho C#, pero allá cada cual. Rust, Go, Ruby. Tienes para aburrir. Eso sí, si puedes, no hagas lo que yo. Cíñete a uno y apréndelo estrujándolo hasta el límite. Que tocar, he tocado algunos, pero ponme ahora mismo a programar en C o Java y ya verás qué risa floja me entra. Esto es como todo, cuanto más practiques y mejores notas tomes, y más te pegues con tus creaciones, por pequeñas que sean, mejor. Si nos vamos a lenguajes “web”, serían con algo de HTML5, CSS y JavaScript tendrás cubierto el front-end, y con algo de PHP los lenguajes de back-end para el lado servidor (sin olvidar las bases de datos, claro). Aunque en el caso de PHP, ya tengo mis dudas, porque el abanico de posibilidades se está abriendo mucho más. con el backend basado en Python (como Laravel o Django o usando Flask para microservicios), Ruby (con su Ruby On Rails), o infinidad de otros que se unen a los que ya existían con Express.js y Node.js. a los ahora ya clásicos ASP .NET (que cuando yo empecé era ASP clásico), y PHP o Java. ¡Incluso con stack “serverless”! En definitiva, y sin andarme más por las ramas,por lo menos entender un poco qué es lo que hace un código determinado. Solo tienes que ver que ahora la complejidad de los stacks tecnológicosConocimientos para el OSCP… y más alláPara el OSCP específicamente, yo me centraría primero en: Practicar mucho con TryHackme (THM) todo lo relativo a los temas que luego se tocarán en el OSCP, y en hacer máquinas para coger práctica, desde casi el principio y sin miedo. Comenzando con las “guías” de TryHackme en sus “paths”** de Pentesting (básico y avanzado) y luego apoyarnos en [Proving Grounds][https://www.offsec.com/labs/individual], de los propios Offensive Security y HackTheBox. Si no tienes cuenta en estas tres plataformas, corre a hacerte con una. Y al menos en alguna de ellas, por ejemplo THM, yo que tú haría el esfuerzo y me pagaria la suscripción Pro, quitándomelo aunque fuese de la subscripción de *NetFlix o las cañas del fin de semana, porque merece la pena y, total, no vas a tener tiempo para dedicárselo a estas… Bueno, al menos siempre dedica algo de tiempo para el aire libre, tu familia y cuidar tu cuerpo y tu mente con algo de “evasión”. Porque lo vas a necesitar. También tienes otras plataformas como: la clásica de vulnhub y la más reciente Vulnyx. Te bajas la máquina virtual, la abres y “juegas”. Las máquinas de estas plataformas están categorizadas por su facilidad de resolución, o incluso temática, si tienen write-up (solución publicada) o no, etc. HackTheBox Academy con sus certificaciones de Pentesting y Bug Bounty. Se pasan de lo pedido para el OSCP pero son muy buenos recursos de aprendizaje. PentesterLab: Learn Web Penetration Testing: The Right Way OverTheWire Wargames En este sentido hay un recurso-guía para el OSCP, que he descubierto recientemente que tiene muy buena pinta, con enlaces a páginas muy buenas como HackTricks, así como a las plataformas que te he comentado y otros muy interesantes para empezar a prepararte el OSCP antes de contratar el curso propio de Offensive Security: OSCP Trics 2023, from Rodolfo Mariano Especialmente para el OSCP y si solo podéis quedaros con una plataforma, yo recomendaría, una vez satisfechos los conocimientos esenciales con TryHackme, saltar a hacer máquinas en la propia plataforma de Proving Grounds , tanto en su versión gratuita (Play) como en su versión de pago (Practice), por 19 dolares mensuales ahora mismo, porque son máquinas en su mayoría realizadas por los de Offensive Security, os que te van a hacer el examen. Yo me he centrado en ellas, en los últimos tiempos, y me han ayudado mucho a afinar el “mindset” específico de Offensive Security, especialmente a la hora de identificar “rabbit holes”. Y también aprender a ver las “conexiones”. Con esto me refiero a que toda máquina tiene su historia, su “por qué”, y cuando las vas haciendo te vas dando cuenta de la “intencionalidad”. No digo que esto no pase en otras plataformas, pero esta es la que más se aproxima al OSCP. Empieza por las “Easy”, y luego termina con las “Avanzadas”, si tienes tiempo. Yo si empezase de cero, me intentaría hacer todas las de la lista de TJNull, aunque avanzo que algunas no te van a caer ni de casualidad. Si te falta tiempo, empieza por eliminar las de BoF -Buffer Overflow- y algunas avanzadas, aunque te diría que hagas todas las que puedas. BoF no entra ya en el OSCP, pero te da una buena metodología, y empiezas a tocar algo de Inmunity Debugger y a pederle un poco miedo al ensamblador. Los mejores expertos que conozco, termiman haciendo algo de reversing. Y también para crear ciertos exploits indetectables, más tarde o más temprano, habrá que lidiar con ello. No solo para explotación de BoFs. En cuanto a la realización de máquinas, no te agobies, si no sacas alguna. Si te falta tiempo, escoge primero todas aquellas fáciles y medias de las listas mencionadas. Y no te sientas mal si, después de perder horas con alguna, tienes que ver su Write-Up o solucionario. Sobre todo al principio o con máquinas muy concretas. A veces es porque simplemente, te faltará el conocimiento necesario para atacar el problema. En ese caso, yo personalmente considero absurdo darse de cabezazos contra la pared. Lee la solución, asimílala bien. Toma después buenas notas sobre ellas y el nuevo conocimiento que te faltaba o la pista que te perdiste que te hizo no acertar, y sigue con las siguientes. También dedica un rato de tu tiempo a revisitarlas y afianzar lo aprendido. Sé que muchas veces nos forzamos a seguir, sobre todo si el tiempo apremia. Pero en realidad, es mejor parar y revisar bien el concepto, que seguir y seguir. Porque en una semana, te habrás olvidado probablemente. Y ahí también juega un muy buen papel tener muy buenas notas o apuntes tomados, para poder acudir a ellas siempre (¡y un buen plan de backups para las mismas, por favor, que nos dedicamos a esto!). Poco a poco, te irás haciendo con una buena “toolset”, con las herramientas que conozcas y aprendas a sentirte confortable con ellas, para: Enumeración (nmap, masscan, autorecon, etc.), Enumeración Y fuzzing de páginas y servicios web, APIS etc. (dirbuster, nikto, gobuster, feroxbuster, wfuzz, ffuf,…). Y manejo razonablemente bien de los proxies web BurpSuite* (con la Community Edition gratuita, vale, y además no te dejan otra en el exámen) o ZAP Proxy, que también es muy bueno. Bruteforcing/Password spraying de servicios como ftp, ssh, etc (hydra, medusa, etc.) Wordlists: secLists y los propios de la Kali. Aunque para el OSCP, con el rockyou para contraseñas de usuarios, y las típicas que verás por ahí de búsqueda de directorios para web (directory-list-2.3-medium.txt, directory-list-lowercase-2.3-medium.txt, big.txt, small.txt, y los típicos de dirbuster), de sobra. ¡Aunque recuerda que también tendrás en casos concretos saber crearte tus propias wordlists! Crackeo de contraseñas (john, hashcat). ¡Y también frackzip y las tools zip2john,rar2john, etc.! Para la fase de explotación: Uso de searchsploit y exploit-db, compilación de binarios -¡en Linux y en Windows!-, o de la web 💀 Sploitus - Exploit &amp;amp; Hacktool Search Engine, metasploit (aunque en el OSCP, solo lo podrás usar en una máquina de las stand-alone, como cualquier otra herramienta de explotación automatizada), junto con la creación de reverse shells según los entornos de plataformas y el uso de msfvenom, para construir nuestros payloads. Para explotación, a parte de mis notas, usaba mucho está web, que te permite configurar la reverse shell en función del lenguaje identificado en el servidor: https://www.revshells.com/ Para retos crypto, aunque Kali cuenta con varias tools, me gusta mucho CyberChef En concreto, para descifrar hashes rápidamente en texto plano (¡de ctfs o máquinas de estas plataformas!): crackstation dehash.me hashes.com Importante también es configurarte un entorno de ataque a tu gusto, sentirte cómodo con él, ya sea usando tmux, o terminator, un terminal con esteroides, como una kitty con PowerLevel10K y una zsh, o bien la versión “pelada” de la Kali, o un Parrot (¡o una Debian con las herramientas que vayas a utilizar!)pero familiarízate con ellas y siéntete bien usándolas. Si volviese a empezar, yo no tendría prisa en apuntarme a la propia certificación de Offensive Security con sus labs, hasta que no entendiese la metodología, tuviese muy clara la fase de enumeración de servicios, conociendo los más importantes, hubiese hecho bastantes máquinas y tuviese ya un nivel de lo que te vas a encontrar ahí. Disfruta del camino, y si puedes hacerlo “sin darte un atracón”, mucho mejor. Creo que es una certificación muy cara para tirar el dinero a lo tonto. Además, cuanto más practiques, más fácil resolverás los laboratorios de la inscripción para el examen, y podrás incluso hacerte en un mes todas o casi todas las máquinas. En este punto recomendaría que si puedes, y me has hecho caso en lo anterior, una vez inscrito en el curso, pierdas el tiempo en ganar esos 10 puntos con las prácticas de los laboratorios y los ejercicios. Ahora es mucho más fácil no perderlos que cuando yo lo hice, y pueden suponer la diferencia entre aprobar o suspender, además de que muchos de los ejercicios sí pueden resultarte útiles, aunque un poco rollo si has cogido toda la experiencia tal y como te indicado, pero siempre te pueden enseñar algo.Directorio ActivoEn cuanto a “Grandes Apartados”, para Directorio Activo recomendaría los siguientes recursos (de menos a más). Con ellos creo que iríais sobradamente preparados y no solo para el OSCP. Creo que con los dos cuatro primeros puntos, ya cubrirías lo que te pueda caer en el OSCP, de hecho. Sobre todo, y aunque te pueda parecer una chorrada, fíjate bien qué usuarios se han conectado a esa máquina, en el pasado, porque te puede dar pistas, una vez consigas vulnerarla. ¡Por ejemplo si en esa máquina se ha conectado un Administrador del Dominio o uno que te pudiese conducir a la toma del DC!. Y entonces empieza a repetir metodología para escalada y movimiento lateral. Luego practica mucho con mimikatz.exe, para dumpear hashes de memoria, así como crackmapexec e impacket, ya en tu máquina, con conceptos como ataques de asreproast o Kerberoasting. Testea además las contraseñas obtenidas con diferentes usuarios del AD, incluso a nivel de usuario local de la máquina, en las máquinas que componen el Dominio. Si además, te sientes cómodo usando PowerShell para enumerar mejor con PowerView o con el propio Active Directory PowerShell Module, y herramientas de SysInternals como PsExec, etc., creo que esta parte la tendrás ya bajo control. En cuanto a los recursos que recomendaría (sentíos libres de completar con lo que queráis): Esta serie de artículos de Tarlogic explican muy bien el funcionamiento de Kerberos. Esta serie de vídeos y presentaciones sobre Kerberos y movimientos laterales del gran **Daniel López Jiménez, aka attl4s**, que no tienen desperdicio. Esta serie de artículos del gran Daniel Echeverri Montoya, aka Adastra en TheHackerWay: Pentesting en ACtive Directory Enumeración con Crackmapexec Herramientas de pentesting en AD Herramientas de pentesting an AD - Parte 2 Post-explotación en Sistemas Windows con WinPEAS Toda la parte de Active Directory de este curso (aunque yo me lo haría enterito): “Practical Ethical Hacking - complete Course”, de TCM Security Este curso gratuito de Seguridad SI impartido por el gran Joaquín Molina, aka “Kinomakino” (que os proporcionará lo necesario para el uso de mimikatz en el OSCP): Curso “Acceso a Contraseñas del Sistema y Mitigación mediante modelo Tiers Administrativos” Active Directory Methodology de Hacktricks (quizás es excesivo, pero lo que no aparezca ahí, no creo que te caiga en Active Directory del OSCP, ni de casualidad): Hacktricks - Active Directory Methodology Igualmente de excesivo, pero también impagable, resulta la también famosa página de PayLoadAllTheThings y su apartado específico de Directorio Activo (Active Directory Attacks - Payloads All The Things (swisskyrepo.github.io)) La preparación para el CRTP (Certified Read Team Professional) de Pentester Academy (ahora Altered Security), y el manejo de PowerView y otras tools eminentemente en PowerShell se sale un poco también de lo que es el OSCP pero tiene un efoque ofensivo-defensivo que también me gusta mucho y te ayuda a entender la explotación de Directorio Activo desde la propia máquina Windows, PS-Remote Sessions, etc. No necesario, pero sí muy interesante. Eso sí, acordaos de que herramientas como PowerUp están prohibidas en el OSCP, al menos en su faceta de “explotación automatizada”. Para practicar, si no te montas tu propio lab de practicas con máquinas virtuales (hay miles de recursos gratis en internet donde te lo explican), tienes esta maravilla: GOADv2 Labs Orange tiene para mi y a día de hoy, el “mindmap” más completo y actualizado para hacerte la idea de ataques a Directorio Activo. Excede con mucho, lo que te van a pedir en el OSCP, pero si lo dominas (solo profundizar en detalle sobre ello llevaría meses), no tendrás que preocuparte de nada en este apartado: Orange Ciberdefense Active Directory Complete Mindse 2023 UpdateWeb. Enumeración. Fuzzing de directorios, parámetros, API endpoints, vulnerabilidades típicas a explotar y uso de Proxy web.En cuanto a la parte de Pentesting Web, recomendaría esto, aunque aviso que, como con el apartado anterior, sobre todo los recursos del final, pueden ser incluso excesivos para el OSCP: Esta serie de artículos de TheHackerWay para abrir boca El curso de Introducción a Hacking de Marcelo Vázquez, aka S4vitar (Sí, como lo oyes : “El Enfant Terrible”, jejeje). No lo hago por entrar en ninguna polémica, pero lo cierto es que, al margen de críticas varias hacia su persona, que he oído (y leído) en el sector durante los últimos tiempos, a mi me parece que ha explotado un nicho muy interesante. Y es muy bueno. Podrás discutir las formas, pero el fondo es impecable. Por lo menos si quieres aprender sobre scripting, en Linux o Python, realización de máquinas varias para la obtención de certificaciones, y más allá… En este sentido de él recomiendo toda su serie en Twitch y Youtube de máquinas de preparación para el OSCP. Tienes un buscador de máquinas resueltas aquí que enlaza con esos vídeos. Y su Plan de estudios para el OSCP y otras certificaciones, aquí. A mí me sigue pareciendo el IPPSec español, incluso más allá. Recientemente ha montado su academia de Hack4you, y su cursos están muy bien, en concreto el que he mencionado arriba puedes sacar más o menos todo lo de web que te puedas encontrar en el OSCP, aunque se echa en falta la parte de Directorio Activo, que promete para una versión avanzada del mismo. Y el de Introducción a Linux es muy potente también. El OWASP Top 10 y las OWASP Web Security Testing Guide: Un recurso gratuito pero muy potente. Ya en habla inglesa, el curso ya mencionado arriba de TCM Security para Directorio Activo, contiene también lo básico de Web, y para profundizar en APIS estos gratuitos de API Security University y este, también de TCM Security enfocado a hacking de APIS. Aunque ese nivel de complejidad de APIS no te va a entrar en el OSCP. Puede que tengas que descubrir algún API end-point o similar, o jugar con ellos, pero poco más allá. La plataforma de PentesterLab es oro puro y desde hace años (la he mencionado ya anteriormente). Tiene contenidos también gratuitos, y de calidad, blogs interesantes, etc. Y para finalizar, no podía dejar de mencionar el fabuloso curso gratuito de PortSwigger Academy. Yo todavía estoy en ello, así que, con calmita. Eso ya está un nivel por encima del OSCP, en estos momentos, a nivel web. Pivoting. Tunneling. Port Forwarding.En esta sección, con lo que te den en el OSCP está bien, pero yo me cuidaría mucho de: Entender realmente cómo funciona un local port forwarding, un remote port forwarding, un dynamic port forwarding, y las casuísticas que te pueden llevar a escoger la realización de uno u otro. Entender cómo usarlo vía ssh, socat y luego ya con otras herramientas, más sencillas, pero después de haber pasado por ahí. Por que si no, te puedes encontrar que has logrado llegar a la máquina destino pivotando, pero por ejemplo, no te funciona bien la shell reversa hasta tu máquina desde esa máquina, o cosas de ese estilo… Aquí recomiendo leer: Este buen post de Hackplayers, antiguo pero vigente perfectamente. Este post de Pivoting con SSH, de Juan Antonio González Mena, aka sikumy, de DeepHacking Este módulo de HackTheBox Academy es reciente pero tiene muy buena pinta (aunque he de decir que no lo he hecho) Saber pivotar entre máquinas empleando más de una herramienta, por si acaso te falla una. En mi caso, chisel me ha ayudado mucho. Pero tienes también ligolo-ng, o sshuttle. Hay muchas ¡Y recuerda que en Windows tienes formas “nativas” de hacer “Port forwarding”! Aún asi, añadiría estos otros recursos interesantes: Los siguientes artículos: Pivoting con Chisel Tunneling: Quick Guide Movement, Pivoting and Persistence for pentesters and ethical hackers, de TCM Security Si dominas la serie de “Pivoting desde Cero”, de S4vitar, para preparación del eCPPT, o te has sacado ya esa certificación, ya dominas probablemente lo que te puedas encontrar en el OSCP.Escalada de Privilegios en Linux y Windows.Para escalada de privilegios, en Linux y Windows recomiendo: Los archiconocidos cursos de TCM Security: - TCM Security - Linux Privilege Escalation TCM Security - Windows Privilege Escalation Los de Tiberius, disponibles en UDEMY: Tiberius Linux Privilege Escalation Tiberius Windows Privilege Escalation Los contenidos que ofrece TryHackme en el módulo: TryHackme - Privilege Escalation Lo que tiene Hacktricks correspondiente a Escalada de Privilegios: HackTricks: Linux Privilege Escalation HackTricks: Windows Privilege Escalation En este sentido, considero que Hacktricks debería ser la Biblia de cabecera de todo el que quiera destacar en Pentesting hoy en día y no solo en cuanto escalada de privilegios, sino en todos los tipos de pentesting y fases del mismo, tanto en cloud, como web, sistemas, Directorio Activo, infraestructuras, etc. Carlos Polop es otro monstruo a seguir de cerca (Si no te suenan su proyecto PEASS-ng y Hacktricks ya estás tardando). El contenido es tan vasto, que tardaríamos años en dominarlo todo, pero es una muy buena guía de referencia a tener en cuenta. Como colofón, las herramientas fundamentales en escalada de privilegios, relativas a la parte de explotación de binarios, serían básicamente estas dos: Para Linux: GTFOBINS –&amp;gt; En más del 80 por ciento de máquinas de preparación para el OSCP que te puedas encontrar, vas a tener que aprender a manejar esto. Y si no, será abusar de una serie de permisos de escritura en un programa, que se lanza periódicamente desde la crontab, o explotar vulnerabilidades conocidas en un programa. O emplear contraseñas que hemos descubierto por ahí, o reutilizar contraseñas,. No mucho más. Explotar vulnerabilidades de Kernel también. Pero en el examen, ten en cuenta que este tipo de vulnerabilidades, a no ser que sean muy “estables”, tienden a dejarte la máquina echa unos zorros, por lo que si no te funciona, recomendaría siempre reiniciar la máquina. Y siempre usar este tipo de vulnerabilidades como último recurso. Para Windows: LOLBAS –&amp;gt; Idem, aunque esto te valdría para otras certificaciones, incluso para evasión de AV, explotación de dlls de sistema y “weaponing” de herramientas intrínsecas de Windows, etc. Lo demás va a ser explotación de servicios vulnerables o programas con vulnerabilidades, empleo de contraseñas encontradas por ahí, abuso de tokens con los archi-conocidos Potato Attacks, etc. Otros recursos interesantes Además de lo hasta ahora mencionado, a mí me han gustado mucho los siguientes cursos, algunos no los cuales no he llegado a terminar, porque he ido cogiendo lo que más me gustaba y me iba sirviendo, pero lo que he visto hasta el momento está muy bien. Te aseguro que algunos de ellos aunque ya un poco anticuados, como la de Eduardo Arriols, para mí han sido una referencia: Los cursos de Securízame . De buena calidad, con unas certificaciones que no tienen nada que envidiar a las americanas. Un gran trabajo de Lorenzo Martínez. Los cursos (y ahí tengo predilección por los de SecDevOps y pentesting web) de Dani Echeverri en The Hacker Way Los cursos de [Seguridad SI](Formación SeguridadSi](https://formacion.seguridadsi.com/). Muy buenos (incluso algunos gratuitos). Muy buena iniciativa de Joaquín Molina. Cursos en UDEMY: a. “Docker y DevOps: De novato a experto”, de Daniel Echeverri (Adastra). b. “Curso Completo de Hacking Ético y Ciberseguridad” y “Curso Avanzado de Hacking Ético y Ciberseguridad”, de Santiago Hernández c. “Curso Completo de Hacking Ético” El temario está un poco desactualizado en cuanto al uso de ciertas herramientas, pero las explicaciones son muy buenas, por un experto en la materia, como es Eduardo Arriols. d. Toda la serie de Vonnie Hudson” sobre “How to Hack The Box to your OSCP”, empezando por la serie de **“How to hack the box to your oscp” (son varios), donde resuelve varias máquinas de HTB desde un punto de vista enfocado al uso e identificación de Ataques, Técnicas y Procedimientos en MITRE ATT&amp;amp;CK. Muy interesantes los de “Advance Privilege Escalation…“ del mismo autor (en inglés, eso sí). e. También en inglés, me gustan mucho estos dos docentes en UDEMY: Zaid Sabih, de zSecurity, (especialmente su **“Learn Bug Bounty Hunting and Web Security Testing” y “Uncle Rat”, también llamado “XSS Rat” y su “Uncle Rat’s Web Application Hacking And Bug Bounty Guide” Otro día hablaremos de los libros, que los ahí y muy interesantes, tanto en inglés como en español. No quiero finalizar sin recomendaros que hagáis algo que yo no he hecho y también considero un error: Mejor recorrer juntos el camino, que en solitario. Si podéis empezar a formar parte de la comunidad aportando o preguntando, hacedlo. Eso sí, siempre desde la humildad y habiendo investigando un poco por vuestra cuenta porque en este sector sobre todo, no gusta nada que pidas que te le den todo hecho, y si me has leído hasta aquí, no es una carrera a corto plazo en la que vayas a ir de la manita para todo, precisamente. Destacaría iniciativas muy buenas en este preciso momento, aunque hay muchas más: Securiters, con la cabeza visible de Marta Barrios (@martrudix), con hckcmp (enfocado a profesionales en femenino). La comunidad general de Securiters, con su Canal de Telegram. La comunidad de “The Hacker Way, con la cabeza visible de Adastra y su recién creada Comunidad Web con diferentes sistemas de subscripción . En definitiva, cualquier comunidad en Twich, Youtube, Telegram, o canal de Discord donde os sintáis cómodos, con libertad para aportar y recibir ideas, y montar algún grupete para “hacer cosas, de vez en cuando”. Aprenderéis un montón y os pondréis al día de forma amena.Por último, yo, por mi parte, recientemente inicié una serie de Posts en Medium que pretenden tocar muchas cositas par el OSCP y más allá, por si te animas. Están en Inglés, pero intentaré pasar lo más interesante a español en este mismo blogl, así que ¡estad atent@s!Y hasta aquí. Si habéis llegado hasta el final de estos posts, muchísimas gracias por vuestra paciencia, de corazón. Y recordad que, como decía Winston Churchill:“El éxito es la capacidad de ir de fracaso en fracaso sin perder el entusiasmo”" }, { "title": "De fracasos y de éxitos (IV)-Consejos para el OSCP...y más allá.", "url": "/posts/consejos_para_el_OSCP_y_mas_alla/", "categories": "Blogging", "tags": "blog, knowledge, certificaciones, OSCP, superación, aprendizaje, consejos, Spanish", "date": "2023-09-10 10:35:42 +0200", "snippet": "Consejos para el OSCP… o tu carnet de conducir. Me es indiferente.No soy muy de aconsejar. Porque básicamente odio que me aconsejen si no he pedido que lo hagan. Me parece demasiado “paternalista”. Pero con mi “peque” empezó a crecer en mi ese “cansino sentido paternalista”. Los que sois padres me comprendréis. En realidad intentamos evitarle al otro el que no caiga en los mismos errores en los que nosotros caímos. No es más que eso y generalmente lo comprendemos cuando llegamos ya a una edad (aunque no deje de ser cansino, lo reconozco). Así que espero que me perdonéis. Ahí van:Consejo 1: Sé fiel a tu metodología y tus herramientas. Domínalas e incorpora otras solo cuando realmente las hayas probado y te sientas cómodo con ellas.Este ha de ser el punto de partida. Cuida tus herramientas y tu máquina. Que sean una extensión de ti mismo. Cuando incorpores otra herramienta, pruébala bien, antes para asegurarte de que te pueda servir… Tener un buen backup y un buen sistema de snapshots o imágenes es también crítico. ¡Ah! Y no actualices nada nuevo el día antes del examen! Recuerda que si puede fallar, fallará.Consejo 2: Aprende a gestionar bien tu tiempo, de trabajo y de descanso (esto para todo)El OSCP es una certificación sobre todo exigente en cuanto al tiempo (Sólo dispones de 23:45 horas para hacerte 70 puntos). Y a mi juicio, la Gestión del Tiempo es un 80% del examen. Eso significa no solo que tienes que aprender a gestionar el tiempo de “eficiencia” en cuanto a la resolución de cada máquina, sino sobre todo, el tiempo de descanso. Porque no conozco ninguna persona que después de 12 horas seguridad, no empiece a fallar. Y eso que yo suelo concentrarme tanto, que muchas veces, si no hubiese alguien a mi lado para recordármelo, o no me lo propusiese, ni comería. Me ha pasado. Y es un error de cara al examen. Así que cuida tu cuerpo y tu mente, y descansa. Date un par de horas para hacer algo. Y a no ser que estés a punto de conseguir un hito, levántate, ve al baño, a beber agua, a estirarte, a hacer algo de ejercicio. Lo que quieras. Pero oxigénate y desconecta. Aunque solo sean 10 o 20 minutos. Luego sigue. Y cuando te venza el sueño, duerme. A veces recuperas mucho mejor con 1 o 2 horas de sueño, que si empleas ese tiempo luchando contra él para seguir enumerando. La solución está ahí (a no ser que no hayas enumerado bien o la máquina tenga un fallo), pero tu cansancio te impide verla. Deciros que yo aún estoy trabajando esto así que…Consejo 3: No pienses tampoco demasiado: Keep it simple!No te compliques la vida. Es cierto que algunas máquinas son jodidas, pero piensa que el examen realmente está hecho para que te saques todo en un tiempo razonable. Hay gente que se lo hace en 8 o 12 horas. No te compares nunca con esa gente, pero eso te da una pista de que muchas veces perdemos el tiempo imaginándonos un escenario mucho más complicado del que realmente es. Si tienes el conocimiento mínimo verás que pensar de manera sencilla te evita un montón de quebraderos de cabeza y “rabbit holes”, o pistas falsas que te lleven a callejones sin salida.Consejo 4: Puede que las máquinas no se hayan iniciado bien.Si has enumerado exhaustivamente, hasta la saciedad, y no ves el “punto de entrada”, y tú crees que estás lo suficientemente preparado para el exámen, reinicia la máquina y vuelve a empezar la enumeración. He leído mucho sobre casos en los que un puerto (el que luego les permitía entrar en la máquina) no apareció hasta que no reiniciaron la máquina varias veces. Y yo mismo creo que tenía que haber reiniciado alguna, antes de desesperarme, en algún examen, tras revisar mis notas con posterioridad. Y lo que no sabía pero me han dicho recientemente: Puedes hablar con el “Proctored Team” para que revisen el estado de una máquina, por si está bien para avanzar en el exámen (sin darte más pistas) o necesita un reinicio, si así lo crees. Esto es muy interesante, para evitarte lidiar con el dilema de: “¿Seré yo, o será la máquina?” Aprovechadlo.Consejo 5: Los exploits tampoco son excesivamente complejos. Pero puede que tengas que retocar alguno.En los casos en los que realmente, hay que hacer “research”, o investigar, tampoco suele ser algo excesivamente complejo. Muchas veces se trata de hacer la búsqueda con las palabras adecuadas, sin mayores complicaciones. Recuerda enumerar tecnologías empleadas, nombres de servicios, etc. que veas. Es cierto que a veces vas a encontrar varios puertos con varios servicios diferentes que pueden conducirte mediante su explotación conjunta a entrar en la máquina. Pero no va a ser tampoco un festival. No te emociones. No te limiites solo a searchsploit y exploit-db. Github tiene buenas PoCs, también. Si estás lo suficientemente preparado, tú mismo te vas a dar cuenta. Ese es el motivo por el que en el OSCP siempre te dicen “Enumera, Enumera y Enumera… “, como parte de esa mentalidad “Try Harder”.Como dije antes, al margen de la ironía y de por lo que mucha gente ataca a este slogan (y en lo que yo coincido hasta cierto punto), es porque realmente no se entiende que esa frase esconde un significado sencillo: Construye tu propio toolset en base a la metodología, comprende esa metodología y hazla tuya. Y, sobre todo enumera, porque la fase de reconocimiento, junto con la de reporting, son las fases que se suelen menospreciar o minusvalorar más en este negocio, cuando prácticamente lo son TODO…Consejo 6: Enumera bien. Y si no encuentras nada, y las máquinas están bien, vuelve a enumerar. Pule tu técnica de enumeración.Cuando domines ya nmap manualmente, no está de más que empieces a usar otras tools de enumeración. Yo mismo fui muy reacio a usar autorecon durante un tiempo. Pero no está nada mal hacerlo cuando dominas las herramientas que esta tool usa, para ahorrarte tiempo y hacer el trabajo gordo por ti, mientras atacas otras máquinas. Luego ya, acota o filtra mejor, sobre lo que tienes, si no te da la pista para entrar a la primera.Consejo 7: La mentalidad es importante, y la importancia de aprobar es relativa. Disfruta como si de otro reto más se tratase.El OSCP es otro “papel” más. Hay que reconocer su importancia como la de otras certificaciones del sector, por supuesto. Pero no deja de ser parte del proceso de aprendizaje continuo. Porque este es solo un paso más. Hay que estar siempre aprendiendo, superándose, ya sea a través del reconocimiento que aportan estas certificaciones, o de manera independiente. Estudia. Practica. Tropieza. Levántate. Perfecciona. Asimila. Y vuelta a empezar. Es un ciclo. Como en la ingeniería del software: Plan. Do. Check. Act…Consejo 8: Tener un conjunto de notas bien tomadas es fundamental. TUS propias notas.Tan importante como ir adquiriendo tu propio “toolset” de herramientas que vayas dominando, es el hecho de tomar buenas notas. Da igual la plataforma que uses para la toma de notas, pero invierte tiempo en ella. No puedes confiar al 100% en tu cerebro. Y menos a medida que avanzan los años y vas metiendo más cosas en tu cabeza, o vas dejando de trabajar con determinadas herramientas para trabajar con otras. En este sentido, y más en Tecnología, es imperativo contar con buenas notas y pulir continuamente el proceso de mejora de esas notas para no perderte luego en ellas. La organización es vital. Y te lo dice alguien que ha sido un desastre en cuanto a organización toda su vida y un “Diógenes digital”, hasta que descubrí que en nuestro trabajo, eso es una habilidad más demandada que cualquier otra habilidad técnica que puedas tener. Y te salvará el culo más de una vez. Luego si quieres, lo que no cubran tus notas lo puedes cubrir con otros repositorios o con el propio HackTricks.Recuerda además que en el examen, cuanto mejor estén tus notas (sobre todo los pantallazos y notas relativas a cómo llegaste a ese paso, y los fundamentales para aprobar que sirven coomo pruebas o evidencias de tu “foothold” inicial y tu escalada de privilegios), más fácil lo tendrás para el report o informe a entregar. ¡Y trabaja también el informe!Consejo 9: No tengas miedo al fracaso o al tropiezo nunca: abrázalo como parte del camino del aprendizaje. Aprende de tus errores para mejorar.No tengas miedo al fracaso o el tropiezo. Piénsalo como parte del proceso de mejora continua. El miedo al fracaso lleva a la inmovilización. Y no moverse es lo peor que te puede pasar, sobre todo en el mundo cambiante que nos rodea. Como sociedad en los próximos años, y más en tecnología, vamos a tener que empezar a pensar en la idea de ser “eternos aprendices” y no “gurús permanentes”. Piensa además en toda la cantidad de grandes inventos y mejoras que se hubiese dado la humanidad si se hubiese tenido miedo a dar ese primer paso. ¿Qué es lo que te puede pasar? ¿Que te caigas? Pues te levantas. Aquí, que yo sepa, el baile no se acaba hasta que no pare la música. Y ahí si que no te tendrás que preocupar por no tropezar…Consejo 10: Quiérete más.Tropezar no es malo. Lo importante es curarse de las heridas y seguir adelante. Tu peor enemig@, tu mayor crític@ puedes ser tu mism@.En el siguiente y último post de esta serie, intentaré daros los recursos de los que yo he aprendido, en este camino de estudio (no solo para el OSCP sino en general, válido para otras certificaciones como el PNPT, eJPT, eCCPT, eWPT, etc.). Espero que podáis sacarles provecho y os resulten interesantes. Yo todavía sigo con el proceso, así que…" }, { "title": "De fracasos y de éxitos (III)...", "url": "/posts/de_fracasos_y_de_exitos03/", "categories": "Blogging", "tags": "blog, knowledge, certificaciones, OSCP, superación, aprendizaje, fallos, éxitos, fracaso, badge, Spanish", "date": "2023-09-09 10:21:36 +0200", "snippet": "El último OSCP. Al fin. A la tercera fue la vencida (como en mi carnet de conducir).Para los que habéis leído mis anteriores posts, y os puse en antecedentes de mis pequeños y grandes “fracasos”, llegamos aquí a la chicha del examen que (esta vez) sí aprobé.Comencé el examen a las 9h del 27/07/2021. No voy a entrar en temas de por qué. Cada uno tiene sus gustos y preferencias. Yo prefiero empezar por la mañana, recién descansado, con un buen cafe, y todo el día por delante.Desde el principio, seguí el camino que debía seguir para sacar el Directorio Activo. Era necesario “clavarlo” cuanto antes porque os recuerdo que esta vez los 10 puntos de BoF se habían esfumado. Con el segundo cambio de examen ya no contaba con esta técnica, así que no sabía lo que me iba a encontrar en las otras 3 máquinas. Pero estaba tranquilo. Tiré de Autorecon para las máquinas independientes y me dediqué mientras de lleno al set de Directorio Activo. El problema llegó cuando, una vez vulnerada la máquina inicial, a la hora o así, descubrí que: Impacket y Crackmapexec son mis tools de referencia para probar infinidad de cosas con Directorio Activo. Desde compartir ficheros, ataques de tickets, Pass The Hash, OverPass The Hash, password spraying, shares, etc. Y no funcionaban como de costumbre. Errores por todos lados. Chisel, para pivotar, tampoco funcionaba fino, incluso con una versión nueva. Pequeño consejo: Jamás hagáis eso el día antes de un examen. Es Ley de Murphy. Si puede pasar algo malo con eso, pasará. La máquina debe estar fina desde una semana antes, por lo menos. Y testeada. Así que acabé, después de un rato de desesperación y tras hablarlo con el Proctored team, tirando de una snapshot anterior, tras asegurarme de que había copiado toda mi carpeta de evidencias encontradas a otro sitio, y de ahí después a la snapshot limpia. Otro pequeño consejo: Si instaláis algo que os pueda joder algo, siempre cread una snapshot antes: os puede venir muy bien ahorraros un tiempo precioso.Finalmente, con contratiempos varios y un descanso forzado para calmarme y reorganizar estrategias (y también con un poco de nerviosismo, para qué negarlo), con la snapshot ya limpia, clavé el Active Directory. Habían pasado casi 11 horas. Se me había ido un poco, sí. ¿Y qué?Después me fui a por la primera máquina independiente. Y en menos de una hora ya la tenía hecha (usuario y root). La verdad es que lo ví rápido, en la ventana de resultados del autorecon. Y fui a por ello de cabeza. Ahí me crecí. 60 puntos y me encontraba fresco todavía. Así que no quise descansar, porque el subidón de adrenalina era grande, y sentía que podía aprovecharlo. Además, conociéndome, no hubiera podido dormir.Así que me fui a por la siguiente y tras algo menos de 4 horas, me la saqué. Aquí la toma inicial (los 70 puntos del aprobado, si hacía bien el informe) me costó algo más porque no estaba tan a la vista. O sí que lo estaba, como vi después (ya sabéis, la “historia que te cuenta la máquina”), pero yo ya lo había descubierto desde otro enfoque, no el más evidente. Ya tenía 80 puntos, pero era de madrugada. Serían como las 4 de la mañana o así. Ahí decidí meterme una de estas bebidas energéticas con taurina, azucar por un tubo cafeína y vitaminas (craso error) y continué, porque quería llegar a los 100 puntos y sentía que podía darme otro empujón.Pero la última máquina se resistía, decidí volver mis pasos sobre todo lo que tenía para asegurarme que no me faltaba nada para luego hacer el informe, y volví de nuevo. Nuevo error. Esta era de las que tenía “mucha mierda que tratar”. Me iba a llevar tiempo, desgranar el heno de la paja.Digo que fue un error, porque aquí tenía que haber parado, dejar el brebaje ese edulcorado que no le hacía ningún bien a mi organismo y tumbarme 2 horas. Y estoy convencido de que lo hubiera conseguido, ya que llegué a encontrar un más que probable punto de entrada. Eso sí, yo ya estaba roto, eran las 8h ya y tenía que hacer un poco de research porque era una técnica que no conocía (aunque estoy convencido de que iban por ahí los tiros). Así que decidí parar. No tenía sentido. En los últimos 20 minutos, antes de finalizar, decidí repasar todas mis adquisiciones, puertos, pantallazos y demás, una vez más. No quería fastidiarla ahora.Cuando finalizó mi examen me fui a dormir y estuve durmiendo hasta las 16h o así, que comí tranquilamente, y me puse con el informe. Lo del informe también fue algo de locos porque quería hacerlo tan bien y sin posibles fallos que me tiré hasta casi la hora de entregarlo. Tampoco es que esté muy orgulloso del producto final, y me hubiese gustado hacerlo de otra forma, pero era bastante decente. De hecho creo que entre mis comprobaciones, cagadas en la exportación al pdf que tuve que corregir, comprobación del has del fichero 7z en el que entregas el informe, el sueño que me hacía ya cometer tonterías, y demás, lo entregué como 10 minutos antes de la hora. Sufriendo hasta el final.El deseado correo comunicándome que había pasado llegó el 1 de agosto, 4 días después de haber entregado el informe. Ni tan mal, tratándose del verano.Mis éxitos -relativos-. La vida es una caja de bombones. (¿Lo he dicho ya?)Como he mencionado en las miserias de mi anterior post, antes de mis fracasos, también había obtenido varias certificaciones a la primera. Sin problemas. Eso me hizo confiarme con el OSCP. ¡Qué mala es la soberbia, amiguit@a!Ese halo de: “porque yo lo valgo”, “porque lo merezco”, “porque he hecho muchas máquinas”, “porque lo deseo con todo mi corazón”. “Todo el mundo dice que no es para tanto”… ¿Cómo? Un momento, ¿Quién dice que no es para tanto? Porque yo solo conozco unas pocas personas a las que les consiento decirme eso a la cara. Y eso porque sé que realmente son unos monstruos, y para ellos no supuso ningún esfuerzo. Porque cuando lo sacaron tenían una experiencia determinada. Pero también muchísima más gente, incluso pentesters y profesionales del sector que se dedican a esto tooodo el santo día, y profesionales del sector que o no se lo han sacado, o lo han suspendido. No es una certificación para entrar en esto. Exige ciertas cosas. Tampoco es la vida real ni te convierte en un “experto”. No digo eso. Pero no te la regalan en una tómbola. Comparado con otras del sector, a lo mejor lo sea. Pero si lo crees así, preséntate tú y me lo cuentas… Es más, aun después de haberla hecho, puedes pensar (como a mí también me ha pasado, dese esa posición de “comodidad”), que no era para tanto. No, claro. Porque ahora ya has aprendido “el camino”. Pero mira hacia atrás, mira el viaje que te has pegado hasta llegar a pensar eso. Y luego vuélveme a decir que es fácil, mirándome a los ojos. Respect! Porque si has llegado hasta ahí, nadie te ha regalado nada. A menos que hayas “hecho trampas”. Y entonces eres imbécil.Dejando de lado el “calentón”, diré que mi primera gran derrota puso en entre dicho mis propias facultades, y me hizo esmerarme más. Trabajar más. Hacer todavía más máquinas. Cuando me presenté al tercer exámen, había resuelto más de 250 retos en diferentes plataformas (HTB, THM, overthewire, Proving Grounds, Pentester Labs, vulnhub,…). Casi toda la famosa lista de TJNull, sobre todo en Proving Grounds, porque son máquinas más parecidas a las del examen, que contiene incluso máquinas retiradas de éxamenes. Pero no solo se trata de haber resuelto máquinas. Se trata de entenderlas. De entender “de qué va esto”. De ver lo que la máquina te quiere contar. Cada máquina tiene su propia historia (si no es una máquina, chapucera, claro, que también las hay). Al final incluso repasé la famosa lista de preparación del OSCP en 90 días con las máquinas propuestas por el propio Offensive Security. Y aquí voy a hacer otro inciso: Muy mal Offensive Security por recomendar en vuestros propios laboratorios máquinas que serían imposibles de resolver en el exámen, en tiempo y forma, y mucho menos, cuando vosotros mismos publicáis su resolucion usando sqlmap (totalmente prohibido en el exámen) o metasploit (restringido a una sola máquina en el exámen). Me había encontrado algunas de estas en la lista de TJNull, pero que las sugieran para resolver en el propio estudio para el examen (en la susodicha lista de preparación) me parece un poco demencial. Al menos sugiere en la resolución cómo acometerla sin herramientas de explotación automatizadas. Si tienes h….s, porque la verdad es que la de SQLi a la que me refiero era un Blind SQL basado en tiempo, que tenías que montarte un script de locos para atacarlo, sin utilizar sqlmap ni otras automatizaciones.Así que lo bueno del “fracaso” es que al final, te enseña también a relativizar el éxito en su justa medida. Por ejemplo, nos hace plantearnos las siguientes preguntas: ¿Acaso es mejor aquel que llega, ve y vence, o el que a base de sucesivos tropiezos, se labra un camino hasta lograr sus objetivos? Cuantas más veces probemos y tropecemos, más veces nos acostumbraremos a que a veces el éxito solo alimenta nuestro ego, pero no necesariamente nuestro conocimiento, mientras que a cada tropiezo aprendemos algo nuevo, algo que nos hace un poco más “invulnerables” para la siguiente vez. ¡Nos da poderes, amig@s! Nos otorga las armas que necesitaremos para reaccionar más rápido y ser más certeros. Sin embargo la persona que siempre tiene éxito, se estancará en aquello que no le saque de su zona de confort, que no le rete, porque siempre tendrá el miedo a fracasar, y de tropezar, porque la sensación de “pérdida” será aún mayor que para aquel que esté acostumbrado a ello. Como consecuencia, relativizaremos los éxitos casi tanto como los fracasos. Otro tropiezo más no es la muerte, ni un éxito nos convierte en dioses. Todo forma parte del camino.Esto aplicado al OSCP nos haría relativizar varias cosas: No. Tener el OSCP no me hace ser un “hacker”, como no me convirtió en “hacker” el CompTIA Security +, ni el CEH, ni ninguna certificación hasta la fecha. Ahí fuera hay gente sin ninguna certificación que son auténticos profesionales en el área ofensiva, como hay titulados en FP o gente con apenas el graduado escolar que daría 100.000 vueltas a un Ingeniero. Los títulos son solo eso. Luego hay que arremangarse y trabajar, y demostrarlo cada día. Si no, solo será un papel que diga algo que incluso pueda volverse en nuestra contra con el tiempo. Y eso te lo enseña la vida, no el título. La curiosidad, el esfuerzo y el deseo de mejora continua han de ser lo primero. Sí. Por supuesto que estoy orgulloso de haberlo conseguido. Porque no es que me “certifique como hacker”. Eso es pura propaganda. Lo que certifica en realidad para mí es: Que me enfrenté a mis miedos y los superé. Y toda superación te hace crecer como individuo. Que supe canalizar lo miedos y las frustraciones pasadas y transformarlos en algo positivo: “¿Qué nuevo reto me voy a encontrar que ponga a prueba lo aprendido? ¡Vamos allá!” Que puse a prueba mi conocimiento y superé la prueba. Que supe gestionar mi tiempo lo suficientemente bien para que, antes de que me alcanzase el sueño y el cansancio, lograse mis objetivos. Y, sobre todo, que depuré mi metodología hasta el extremo de hacerla lo suficientemente eficiente para aprobar, de tener unas notas claras para acudir allá donde mi memoria no llegaba (sobre todo cuando empezó a hacer mella el cansancio). Por poner un solo ejemplo: En mi caso, que siempre había sido de enumerar manualmente, por aquello de saber cómo funcionaban las cosas, comencé a usar autorecon y a usarlo eficientemente, tirando de nmap donde me surgían dudas con máquinas en concreto. Así, me dejaba un escritorio de mi Kali, solo con el navegador web abierto contra la carpeta de resultados del autorecon, y poder echar un vistazo rápido de la enumeración que había ido haciendo la herramienta mientras atacaba el Directorio Activo en la url que tiraba contra los resultados. Si tenía dudas, como ya sabía cómo funcionaban por debajo sus diferentes herramientas, porque las había estudiado independientemente, ahora ya podía “acotar”, enumerando potenciales “entry points” de manera concreta o aplicando otros filtros, como en el caso del fuzzer web, o enumerando, “ya en fino”, con nmap. Pero para tener una idea inicial y comenzar a atacar rápidamene a un puerto concreto, o identificar “low hunging fruits” y vadear posibles “rabbit holes”, me vino genial. De un plumazo me permitía conocer lo que una máquina tenía expuesto, via web. Me ahorró un montón de tiempo. Y Aquí haré un nuevo inciso (el último ya por hoy, lo juro): Al margen del “Pay Harder” del que se hace gala Offensive Security, he de reconocer que cuando se habla de la metodología “Try Harder”, creo que realmente se refiere a este punto en concreto. Debes encontrar tu propio camino. Tu forma de optimizar tu set de herramientas y tus procesos será vital. Tu forma de “atacar tus propios puntos débiles”, de reconocer tus carencias y cubrirlas será vital. Tu forma de gestionar tu tiempo, de regular tus descansos y de saber cuándo tienes que decir: “Hasta aquí he llegado, voy a procurar dormir (o por lo menos descansar) dos horitas, y luego ya veremos”, y vencer tus miedos, puede suponer que apruebes, o no. De hecho, en mi caso, estoy convencido de que me habría ayudado a sacar la última máquina, que se me resistió. De haber descansado, estoy convencido de que la habría logrado (de hecho creo que llegué a ver el posible punto de entrada, pero ya estaba demasiado cansado). Saber parar a veces es fundamental. Como en la vida. Siempre prioriza tu estado mental, antes de que lo aprendas de mala manera…Y para finalizar… unos consejos. Pero eso ya, en el siguiente post" }, { "title": "De fracasos y de éxitos (II)...", "url": "/posts/de_fracasos_y_de_exitos02/", "categories": "Blogging", "tags": "blog, knowledge, certificaciones, OSCP, superación, aprendizaje, fallos, éxitos, fracaso, Spanish", "date": "2023-09-08 10:00:19 +0200", "snippet": "De fracasos y de éxitos (II). Mis pequeños fracasos o, como yo prefiero llamarlos, tropiezos. La vida es una caja de bombones.Los que habéis leído mi post anterior, conocéis ya, a grandes rasgos, mi background o experiencia pasada. Mis circunstancias y yo. Vosotros tendréis las vuestras. Os emplazo a que reflexiones sobre lo bueno y lo malo que os haya hecho aprender. En mi caso, ahora empezaremos con lo que nadie quiere oír: Las hostias (perdón, pero no se me ocurría otra forma más “gráfica” de representarlo)El Alzheimer es una enfermedad infame. En general toda enfermedad limitante o incapacitante es mala. Había sufrido indirectamente los dos cánceres de mi padre (el último de ellos lo mató) y me había dejado una marca indeleble en el alma. Esas cosas siempre lo hacen. Pero cicatrizó. Realmente pienso que los que descubran cómo “hackear” a esas enfermedades algún día, ese maldito día, ellos sí que serán unos auténticos héroes, y yo podré morirme tranquilo. El caso es que ahora mi madre (que es la que había estado al lado de mi padre todo el tiempo, dicho sea de paso), junto con mi mujer y mi hija, eran mis prioridades en lo personal: Mi fortaleza inexpugnable.Pero esa parte de la fortaleza se fue al carajo cuando descubrí que mi madre empezaba a tener problemas (serios) con la memoria a corto plazo. Ella siempre había dicho que no le tenía miedo a la muerte, pero sí que no quería perder la memoria como su madre, mi abuela.¿No querías té? Pues toma dos tazas.Ya no podía (ni quería) seguir dando el doscientos por cien en un trabajo que de por sí ya no me acababa de llenar del todo, aunque había pagado mis facturas y me había hecho seguir formándome, de lo que siempre estaré agradecido, como del resto de mis ocupaciones anteriores, por supuesto.Además, el hecho de verme forzado a abandonar el teletrabajo para volver a la oficina, sin haber acabado de solucionar el tema de mi madre (de aquella no podía dejarla sola), y además con mi propia familia viviendo en un sitio y yo con mi madre en otro, con un máster que había empezado 3 o 4 meses antes y ya no podía seguir como yo quería, me llevó a la determinación de “eliminar incógnitas” de la ecuación, por el bien de los que me rodeaban y el mío propio, ya que mi estabilidad mental y emocional se estaba también empezando a resquebrajar. Así que hablé con mis jefes y renuncié. Dejé mi trabajo. La sensación de vértigo era evidente, pero me permitió avanzar.Así, todavía algo tocado, me levanté de nuevo. Soy un tipo bastante racional que había hecho algo “un poco” irracional (sobre todo en este país, donde la política es: “a mí, que me echen”, todo hay que decirlo también). Pero lo hecho me permitió solucionar temas de papeles, médicos y demás. Además, continué mis estudios “robando muchas horas al sueño”, y a partir de Julio del 2021, que mi madre ya empezó a ir a un Centro de Dia hasta por la tarde-noche, aunque seguía estando ahí, ya no era a tiempo total, me pude poner a tope con ello y, finalizar el máster.Con el máster venía sólo un mes de laboratorios de la plataforma de Offensive Security para la obtención del OSCP, y yo veía que necesitaba mucha más práctica. Había hecho máquinas de vulnhub y HTB, sin mucho éxito sobre todo en las de HTB, practicado con los labs del máster, y me había sacado una certificación a base de mucha teoría y algo de práctica de Cybrary, basada en Pentesting así como la propia de eLearning Junior Penetration Tester (eJPT) que había empezado a estudiar con eLearning Security y acabó siendo después INE (esta sí que la recuerdo como eminentemente práctica y muy recomendable para empezar, muy asequible).Tuve que rascarme el bolsillo, una vez más, y pagar un mes adicional, si quería seguir practicando con el material de Offsec. No importa. Me quedaba colchón (¿He dicho antes que, salvo en formación, gasto poco?)Había también empezado a estudiar en paralelo haciendo cositas de Pentesterlabs, TryHackme, y visionar vídeos de resoluciones de máquinas de S4vitar, IPPSec, etc. Pero durante esos dos meses de laboratorio me centré en leerme y comprender el temario de OSCP, así como resolver los labs, y pegarme con las máquinas que no podía resolver en los crípticos foros del OSCP. No recuerdo haber dormido tan poco ni cuando nació mi peque.Finalmente, tuve que renunciar a mis 10 puntos extras del OSCP, que de aquella se tenían que conseguir haciendo un informe anexo con la resolución de al menos 10 máquinas, así como los más de 100 ejercicios que había que mandar resueltos, del temario. Quise priorizar la práctica sobre la teoría y me dediqué en cuerpo y alma a los labs hasta que transcurrieron los 2 meses. Resultado: 60 de las 75 máquinas de las 3 redes a atacar, conseguidas.¿Parecía un buen ratio, para aprobar, no? Pues no, amig@s mí@s.Además, he de decir que tuve que afrontar un “pequeño cambio de última hora”, a laboratorio cerrado (y dinero pagado) para examinarme: En 7 años no habían hecho ninguna modificación al OSCP. Pues desde ese momento cambiaba la dinámica del examen. Hasta ahora no había entrado Diectorio Activo. Pues ahora iban a meter un set de 3 máquinas en Directorio Activo (con o sin pivoting) y 3 máquinas stand alone, es decir, una máquina adicional, más Directorio Activo y pivoting…. ¡Ah! Y hasta ahora, el Buffer Overflow (BoF) no iba a contar 20 puntos si lo conseguías (acceso directo con perfil de administración a la máquina tras su explotación). Si no que, una vez explotado, tendrías que escalar privilegios.Genial.Aquí hago un inciso (“Ya está el charlas este otra vez”): “Bravo, Offensive Security por querer avanzar en estos años, y seguir estando a la vanguardia del negocio donde una vez estuvisteis. Bravo por querer mejorar vuestros laboratorios y plataformas, y dotarles de mayor estabilidad. Y bravo por cambiar el sistema para conseguir esos 10 puntos, porque era infumable, para los que tenían que corregir, y sobre todo para los estudiantes. Bravo también por ese “Sueño de unos meses de verano”, que creásteis al abrir una formación gratuita y en abierto en Twitch con tips de preparación para el OSCP (oro puro, sobre todo la parte de Directorio Activo), aunque se acabó pronto y volvísteis a vuestra política del “Pay Harder”. Eso sí, podríais haberos estirado un poco más con los nuevos cambiosy haber extendido esa oportunidad para los estudiantes que teníamos el sistema antiguo y estábamos preparándonos el examen, pero que ya no tuvimos acceso al nuevo temario ni a los nuevos laboratorios. Gracias. “He de decir que hasta ese momento (creo que eso lo han mejorado bastante después), los dos sets que había visto en los labs de Directorio Activo, así como el de ejemplo, eran de risa. Casi no explotabas realmente Directorio Activo. Eran una suerte de máquinas conectadas donde si acaso, pivotabas y explotabas vulnerabilidades de una a otra, o robabas hashes con mimikatz y los empleabas en la siguiente. Poco más.Nuevamente adaptarse o morir. Me esmeré en estudiar y hacerme sets de máquinas de Directorio Activo para estar a la altura en el examen. Y lo conseguí. O al menos eso creía yo. Pero no.Primer batacazo: 50 puntos.El día del (primer) examen, estaba hiper-motivado. Preparado, no. Lo siguiente: Me iba a comer el OSCP con patatas.De hecho, logré ventilarme el set de Directorio Activo, aunque me costó más de lo que me hubiese gustado (12 horas por pensar más de la cuenta, cuando todo era bien fácil, la verdad). Ya tenía 40 puntos.No quise descansar porque había perdido demasiado tiempo en AD: había tenido que descargarme además y compilar una versión de chisel porque no me funcionaba bien la que tenía, así como algún que otro tropiezo más y, como ya he dicho, mucho “overthinking”.Luego me puse con la máquina de Buffer Overflow. Eso es pura metodología y si has hecho unos cuantos, los del OSCP están tirados. De hecho son 10 puntos asegurados. Creedme (o lo eran, hasta que dejaron de pedirlo en los exámenes de la certificación, que fue el siguiente cambio en la certificación que llegué a comer con patatas, comprensible por otra parte). Así llegué a los 50 puntos,Y adiós, muy buenas. No pude escalar privilegios en la máquina del BoF y tuve igual suerte con las otras dos máquinas “stand-alone”. Además no descansé en 24 horas salvo para ir al servicio y poco más. ¡Hasta comía en le sitio!. Mal. Muy mal.Creo que pasé por todas las “etapas del duelo”, con el puñetero examen: Negación (“No, si estoy bien”, Ira (“Es que los de Offsec,… las máquinas… Los reset…. No es justo”, Negociación (“Si es que tenía que haber hecho esto o aquello…”, Depresión (“Soy un mierda. No valgo para esto”, y finalmente, aceptación. Lo malo es que hice el examen siguiente estando todavía en plena fase de Depresión y yo sin saberlo. No esperé lo suficiente. No aprendí lo suficiente. Me surgieron más dudas y perdí la confianza en mí mismo. A ello se unieron otros factores externos, con guerra de Ucrania de por medio e incertidumbre de si nos iba a caer un pepinaco por tener bases de la OTAN en España, la subida de precios de todo, mis ahorros ya empezaban a escasear, el hecho de mirar a vece a mi madre y contemplar a una extraña, etc.No estoy justificándome en absoluto. Cada uno somos nosotros y nuestras circunstancias. Eso me ha hecho ser mejor persona, y no juzgar a los demás sin intentar ponerme antes en sus zapatos. Solo quiero aseverar que quizás no era el mejor momento para presentarme. NO se trata de cuando tú quieres, sino cuando puedes. De cuándo ha llegado tu momento, y eso debes aprender a verlo. Y yo NO estaba centrado, solo quería quitarme el mundo de encima.Así que esta vez el batacazo fue monumental. Solo saqué los 10 puntos del Buffer Overflow. Todavía me da vergüenza reconocerlo, pero sí. Así fue. Ni siquiera saqué el Directorio Activo, donde las 3 máquinas estaban, para más INRI en la misma red. Empecé el examen ya derrotado. Y eso que había estudiado más, había practicado más, había mejorado mi sistema de notas. Pero no me veía capaz. La sombra negra de la duda se había cernido sobre mí. ¿Y si no valgo para esto?Soy un tío muy exigente conmigo mismo, y si hay algo con lo que he aprendido a convivir es con la duda permanente. Me gustaría decir que es “El Síndrome del Impostor”, pero es que a veces me siento que soy un verdadero impostor. Es lo que tiene ser un eterno aprendiz de todo y maestro de nada. Si ves mi currículum, pensarás que soy un crack. Y no miento en absoluto (de hecho he quitado cosas). He tocado todos esos palos, pero no me considero un auténtico profesional en casi ninguno de ellos. Por eso quería especializarme en algo que me apasiona por encima de todo lo demás, y que me permite tirar de ese perfil tecnológico. Afortunadamente tengo a mi alrededor gente que tiene mejor concepto de mí que yo mismo, y su apoyo me sirve de acicate para ser mejor cada día, porque si no…Realmente aquí si que estuve a punto de tirar la toalla. Incluso lo hable con mi mujer seriamente. Me animó a seguir. Eso y mi pasión por esto. Si es que a mí esto en realidad me gusta, joder. Y mucho. Eso me hizo levantarme de nuevo.: “No sé si valgo para esto, pero si no lo hago de nuevo y me quito la espina de esta decepción, jamás lo sabré”, me dije.Y seguí adelante. Me saqué el AWS Cloud Pentester Professional de Pentester Academy con exámen y certificación incluídos. Entre medias estudié un muy buen curso de DevSeOps, y el bootcamp de Certified Red Team Professional, que me dió aún más tablas para Directorio Activo…. Pero suspendí el examen. Y eso en las certis de Pentester Academy es raro, porque si estudias el temario y realmente te aplicas, el examen es un trámite.¿No? Pues no. Eso es lo que yo creía. Pero no. Otras 24 horas de examen (de verdad que ese modelo de exámen me mata: “Señores eso es reventar a la gente porque sí, que yo en mi trabajo paro y me voy a dormir, aunque sean 3 horas!”). Así me quedé atascado en una máquina por no hacer una cosa sencilla en la 3a máquina, creo recordar. Y me entró el pánico. Y cuando, después del examen descubrí lo que había sido , me tiraba de los pelos.Este otro tropiezo me hizo darme cuenta de otra cosa crucial, a la hora de obtener certificaciones: El error que cometí en esta me serviría después para sacarme el set de Directorio Activo del OSCP. Así de claro. Me enfrenté a un dilema muy similar y supe lo que tenía que hacer, porque ya había fallado antes en algo parecido. La práctica hace al maestro, que dicen. Cuando más practiques, cuanto más falles y aprendas de tus errores, mejor te saldrá la próxima vez. Siempre aprendes algo nuevo, algo diferente que creías que sabías, hasta que te enfrentas a ello y descubres que a lo mejor, no lo tenías tan asimilado. Te hace trabajar más, estar más alerta, más preparado para la próxima vez. ¿Qué es lo peor que te puede pasar? No es para tanto. Te vuelves a presentar habiendo depurado lo que crees que hiciste mal, y ya está. No estás llevando una central nuclear, donde miles de vidas dependan de ti Es solo una prueba. Y las pruebas son solo eso. A veces también prueban nuestra resistencia,, nuestra tolerancia a la frustración.A estas alturas os creeréis que ya tenía todo dominado, ¿no?Pues no. Ahí no acabó la cosa. Tenía previsto presentarme a finales de este año, en enero. Lo veía como mi última oportunidad, antes de empezar a trabajar, porque ya no quería demorarlo más. Ya me lo sacaría después, trabajando. Pero en diciembre, otro revés: Una hernia ciática brutal y totalmente incapacitante. Tanto que me asustaron diciendo que “parecía un tumor”, porque se había salido todo el líquido del disco y estaba oprimiendo directamente la raíz del nervio ciático. Estaba cojo, con unos dolores que me hacían llorar, literalmente. No había noche que no me quisiese arrancar la pierna de cuajo, y eso que estaba dopado hasta las cejas con 3 Enamplus (Enantium + Tramadol) diarios. Finalmente, cuando me operaron en febrero (dos clavos en la espalda de recuerdo), aprendí una lección muy dura: nunca dejes tu salud de lado. Ejercita tu espalda, tus piernas, tus músculos. Pasar demasiada hora sentado sin hacer ejercicio, solo pendiente de mi formación, me había pasado factura. Y tuve además que retrasar la fecha del examen, que es justo lo que no pretendía.Así, finalmente, en Julio de este 2023, ya recuperado, me presenté. Pero algo había cambiado. Era como el papel de Morgan Freeman, cuando, después de haber pasado 40 años entre rejas, en “Cadena Perpetua”, intentando que le concediesen la libertad, mira frente a frente a los responsables de liberarle o no, y cuando le preguntan si cree que está rehabilitado, por enésima vez, les contesta aquello de: “¿Rehabilitado? Pues déjeme pensar. Para serle sincero no tengo ni idea de lo que significa eso…” Y suelta su discurso para mí, sublime. Pues así iba: Me importa una mierda si apruebo o suspenso. Me importa una mierda si es un filtro para Recursos Humanos. Porque yo voy a acabar trabajando de eso. No sé si hoy , mañana o dentro de un mes o un año. Me da igual. Así que voy a salir ahí y voy a hacer lo que sé hacer, lo que me apasiona, como si fueran una de esas máquinas que ya he hecho, porque sé que tengo mi método, que he interiorizado mi técnica. Y si no lo sé lo buscaré. Me adaptaré. Como he hecho hasta ahora toda mi vida. Ahí me veía yo, como Morgan Freeman diciendo ““¿Certificado? Es solo una palabra de mierda. Así que rellene sus formularios hijo, y no me haga perder más el tiempo”.Es más, me importaba una mierda meter la pata en las redes. A partir de ahora iba a procurar estar más activo y empezar a subir cosas para devolverle a la Comunidad todo lo positivo que yo había tomado de ella, para procurar enseñar mi camino y seguir aprendiendo con ello. ¿Que me equivocaba y metía la pata? Pues volvería a levantarme. No me iba a “esconder” más. Había aprendido que a veces no se puede crecer si no lo haces en compañía. Aunque eso aparentemente te pueda hacer más “visible”, más “vulnerable”. Pero tú decides hasta dónde quieres que te afecten los factores externos. El miedo paraliza. No más miedo.Y esta vez aprobé. Porque realmente me importaba una mierda. Quería solo divertirme con lo que había aprendido. Era solo un reto más.Pero eso ya… en el siguiente post." }, { "title": "De fracasos y de éxitos (I)...", "url": "/posts/de_fracasos_y_de_exitos01/", "categories": "Blogging", "tags": "blog, knowledge, certificaciones, OSCP, superación, aprendizaje, fallos, éxitos, fracaso, Spanish", "date": "2023-09-07 10:30:00 +0200", "snippet": "De fracasos y de éxitos (I). Yo también me saqué el OSCP… después de haber fallado. NO es un fracaso. Es parte del aprendizaje.¡Buenas a todos!LLevo algo más de un mes dándole vueltas a cómo poner el “típico post” tan necesario en nuestros días, y en esta profesión de pentester (sobre todo para los “wannabies” como yo) para “sacar a pasear el ego” y que la gente “por ahí” sepa que “tenemos ya un nivel” (modo sarcasmo “ON”) y que no estamos en esto solo de paso. Me refiero a la review de mi certificación en el PEN-200: Penetration Testing with Kali Linux, de Offensive Security, comunmente denominado OSCPEl problema es que no quería que sonase a lo mismo de siempre: Te muestro mi “caso de éxito”: “¡Me lo hice en 3 horas y media! ¿A que soy un crack?” “Ya…¿Y qué? (No conozco a nadie que se lo haya hecho en ese tiempo, pero al ritmo que vamos…) Te animo a te saques la certificación si quieres ser Pentester o trabajar en Seguridad Ofensiva: “Tú puedes, porque tu lo vales, si quieres, puedes” Te doy unas recomendaciones de cómo me la saqué que seguro que a ti te van a servir. (“¡Claro! ¡Porque lo que me ha valido para mí, seguro que a ti te vale!”)No quería hacer otro post más de lo mismo. O al menos no quería expresarlo de esa forma. Además me aburren este tipo de posts y creo que acaba metiendo más presión encima a la gente que se quiere sacar esta y otras certificaciones. Supongo que por eso no hice review de las que sí que me saqué a la primera. Y eso, ¿Por qué? ¿Porque no quiero compartir “mis secretos” con nadie? No. Porque nunca me ha gustado “fardar” y además no creo que haya motivo verdadero para hacerlo, salvo para satisfacer mi propio ego, y hace tiempo que dejé eso atrás. Eso, por el contrario, viene muy mal si quieres comer de esto y plantea un dilema serio, pero es otra historia… Porque tú no eres yo y mis circunstancias. Porque tu metodología de aprendizaje o tu forma de asimilación de contenidos probablemente tampoco sea igual que la mía. A lo mejor tú eres más de leer libros y los devoras de dos en dos, o de ver vídeos o de leer blogs, estudiando por tu cuenta o mejor realizando un curso “empaquetado”, donde te lo den todo masticado. O todos esos métodos a la vez. De hecho, yo he probado (y pruebo) todos esos métodos a la vez. Porque tu “background”, tu experiencia pasada, probablemente sea diferente a la mía. Porque no siempre si deseas algo con mucha fuerza, lo consigues. Lo siento. Sé que en estos días de “over-coaching”, y del engañoso “culto al yo buen-rollista”, parece que hemos encontrado una satisfacción casi onanista en pensar que “todo es posible si se desea con el corazón”. Lo siento. No lo comparto: Influyen muuuchas más cosas y ese predicamento puede ser la perfecta receta para una vida llena de frustraciones y desengaños. Eso me lo ha enseñado la propia vida. Lo siento pero “sh*t happens!” Eso es como cuando buscas hacer algo sólo porque te van a pagar muy bien. O te metes, “porque hay que hacerlo”. Si lo haces solo por eso, te la vas a dar bien dada. TIENES QUE BUSCAR LO QUE TE MOTIVE Y TE HAGA REALMENTE FELIZ. Ahí ya abriremos otro melón del que no quiero hablar hoy (LA FELICIDAD NO ES UN ESTADO PERMANETE. ASÚMELO). A fin de cuentas, vas a invertir mucho tiempo y dedicación en ello, así que asegúrate de que te sientes cómodo con ello y disfrutas del viaje. Y cuando dejes de disfrutar, EVOLUCIONA. El ser humano EVOLUCIONA. Si decidimos que hasta aquí hemos llegado, porque no nos gusta ya más este camino. Pues lo dejamos. No pasa nada. Forma parte del proceso de aprendizaje. Siempre y cuando lo hagas siendo consciente de que no eres un fracasad@ por no seguir. Es que has decidido no seguir porque ya has perdido el interés o realmente no te compensa continuar con el esfuerzo necesario para llegar hasta allí. Por “X” motivos, pero hazlo conscientemente. Así nunca tendrás que mirar atrás y decir: ¿Y si…? En mi caso concreto a mi lo que me ha servido alguna vez (que no todas) es llegar a conseguir el objetivo, y luego si no me ha convencido, dejarlo (“He podido con ello, pero ya está; No me convence”) , como me pasó con el CCNA en su día. Aunque como digo, esto depende de cada uno. Porque el único secreto es: Trabajar, trabajar y trabajar. De una forma más o menos óptima o más o menos eficiente, sí. Pero trabajar.Por último, he reflexionado bastante tanto de multitud de “reviews” de esta certificación que he leído, como de posts en subreddits sobre el OSCP, etc. En concreto este último de un compañero en esto del hacking, aunque no lo conozco personalmente, pero le he seguido y he aprendido con él (un saludo David), uno de los pocos que conozco, que no ha publicado su éxito, si no su amargo tropiezo. El hecho es que me ha tocado “el corazoncito”, y que creo que pone en relieve algo que la gente parece desconocer, o ignorar. O por lo menos no ser muy consciente de ello, a juzgar al menos por las Redes Sociales:¡ATENCIÓN: SPOILER! ¡LA GENTE EN LA VIDA FALLA! ¡Y MUCHAS VECES. NO SOLO UNA VEZ, SINO VARIAS!.¿Aprendísteis a andar de una vez? Desde el mismo momento en que os montasteis en una bicicleta, ¿Ya corríais monte arriba, monte abajo? Pues eso… Así que no, amigo David (y otr@s). No es un fracaso. Y no, no tienes por qué avergonzarte de nada. Esta vez no “tocaba”. Ya está.Parece además que se ha montado en los últimos años una Cultura terrible en torno al éxito (más perversa de hecho que aquella, más “naif”, de los años 80, que muy bien reflejaba aquella peli de “Wall Street”). Una cultura “de las apariencias”. Redes sociales como LinkedIn (salvo honrosas excepciones), junto a otras , con sus legiones de trolls, consideran tabú esa palabra y sus homónimas: Fracaso. Fallo. Tropiezo. Error (=Vulnerabilidad?). Y cuando alguien habla de ello abiertamente, hay incluso gente que se siente molesta y la ataca con fervor, o incluso se ríen: “¡Qué pringao/a!”. Como cuando hay ciberataques contra grandes empresas: “‘¡Qué pringaos/as!’”. Una forma muy simplista y carente de empatía, a mi juicio, de visionar los tropiezos de los otros (porque ya sabemos que nosotros nunca nos equivocamos, claro). O te increpan diciendo “Deja de querer dar pena.”. Porque claro… “Los hombres no lloran” … pfff. Patético y de una falta de madurez sorprendente.Pues bien. Si piensas como est@s últim@s, te voy a ahorrar éste y los dos próximos posts. Sáltate toda la parrafada y vete directamente a los dos últimos de esta serie:Consejos para el OSCP… o tu carnet de conducir. Me es indiferente.Mis recursos recomendados, los que a mí me sirvieron (actualizados al 2023)Vamos, lo típico.Pero si no quieres sentirte engañado, una vez más, te pido que me leas hasta el final. Porque esto no es una “oda al éxito”. En realidad yo podría haber fallado de nuevo perfectamente, por una serie de factores diferentes (y estuve a punto, créeme). Esto no tiene nada que ver con eso. Sino todo lo contrario.La verdad es que he decidido “abrirme en canal” (no sin cierta reticencia inicial, la verdad), y contaros mi experiencia, honesta y sin tapujos. Procuraré no aburrir “al personal”. Y que vaya por delante que mo pretendo ni justificarme ni tampoco ir de víctima por la vida. Simplemente contar cómo caí. Y caí. Y caí (o “perdí”, si queréis verlo así). Pero también “gané”. Y mucho. De cómo aprendí de mis tropiezos (o no, de hecho algunos todavía los estoy puliendo a día de hoy). Tanto en el OSCP como en mi formación en la Seguridad Ofensiva… y, por qué no, también de la vida en general. Mi intención única es que tod@s los que han pasado por experiencias similares, tanto con esta como cualquier otra certificacioón, desafío o metas, no se sientan tan sol@s en el camino.Si has aguantado hasta aquí y tu cerebro no ha cortocircuitado y ya vas a hacer un “TL;DR (Too Long; Didn’t Read)”, ahora entraré en materia. Lo siento, soy un “charlas”. Mi peque también me lo dice…Mi experiencia, background tecnológico y mis motivaciones.Soy un culo inquieto. Sí. Me gusta cacharrear, tratar de comprender las cosas, intentar averiguar cómo funcionan. No romperlas. No disfruto rompiendo cosas (solo que a veces se rompen, de no usarlas “como es debido”, ¡Qué se le va a hacer! Yo lo intento, lo juro… Pero eso no siempre ha sido así. Pero eso no ha sido todo el tiempo así. Durante un tiempo incluso, me olvidé de ello. Perdí esa curiosidad, hasta que me reencontré con ella de nuevo.Pero empecemos por el principio. Cuando tuve la oportunidad de estar delante de un PC, todo para mí (o casi), me gustaba cacharrear, trastear. Y jugar, claro. Eso también.Después entré a trabajar en Consultoría Informática (Desarrollo de aplicaciones en varios proyectos, con varias tecnologías diferentes). Como yo venía realmente de la rama de Sistemas, y no de Gestión, había estudiado la asignatura de “TeleInformática y Redes” en la facultad y me había gustado. Así que, para no perder ese toque, por curiosidad y en mis ratos libres, me saqué el CCNA. Pero aunque me ayudó a comprender un poco más sobre redes, topologías, tipo de cableado, protocolos, , modelos OSI y TCP/IP, enrutamiento de paquetes, configuración de routers y switches CISCO, un puesto de operador de redes no me llamaba mucho la atención. Así que seguí como Desarrollador, en diferentes proyectos. Este mismo afán de conocimiento me llevaría años después estudiar el MSCE (¡con Windows Server 2003!), aunque no me llegué a presentar a la certificación, pero eso es otra historia…Ni que decir tiene, que en aquellos tiempos la Seguridad no era algo que se tuviese en cuenta en el Desarrollo de aplicaciones, ni siquiera en las grandes consultoras. Por lo menos, no en las fases de Diseño y Toma de Requerimientos. Ni siquiera existía DevOps como tal, ya no hablemos de SecDevOps, o DevSecOps, como queráis llamarlo. Sino como parte de los tests de QA. Y si se hacía, era algo que no se compartía con los desarrolladores. Y en Sistemas, se limitaba prácticamente a Seguridad Perimetral por un tubo, y ya está. ¿Securidad por capas? ¿Defensa en profundidad? ¿Zero Trust? Nada de eso. Dentro las redes, si se lograba entrar, eran todo un “Happy Hour”, para los cibercriminales. Hasta entonces mi contacto con la ciberseguridad había sido nulo, o limitado a algunos ficheros de texto de alguna asociación de la facultad o de alguna BBS para hacer tal o cual cosa en sistemas Unix. Poca cosa. Nada.Tras varios años en consultoría, decidí probar suerte en un cliente final. Un pequeño grupo de empresas que explotó al límite mi capacidad para adaptarme, innovar, crear y crecer profesionalmente (no siempre en las últimas tecnologías, he de decir), haciendo prácticamente de todo: desde crimpar cableado y conectarlo al patch panel de un armario de comunicaciones, al troubleshooting de redes pasando por el montaje de equipos, redes e infraestructuras, redacciones de pliegos de concursos, desarrollo (tanto de herramientas de escritorio propias como web), montaje y administración de IIS, montaje y administración de Directorio Activo, montaje y administración del servidor de Base de Datos. Pruebas, trato con usuarios, trato con proveedores, contrataciones, mantenimiento de aplicaciones y sistemas corporativos, etc. Y lo que no sabía, lo aprendía con avidez y de donde podía. Que tocaba arremangarse y hacer una web, y mis conocimientos eran casi nulos, me veía todo lo habido y por a ver, o me pagaba de mi bolsillo cursos con DesarrolloWeb.com, o tal o cual plataforma (al principio, no había ese boom y esa variedad de recursos incluso gratuitos que hay ahora en Internet). Resultado: Una web para nuestra Intranet con un aspecto visual innovador para aquel momento (y “responsive”, o adaptativo, a casi cualquier tipo de terminal) . Lo más. Con sus fallos, seguro, y que se fueron puliendo a lo largo de los años. Pero ahí estaba. ¿Una aplicación para leer códigos de barras y conectar con nuestra base de datos, a través de un Servicio Web? Pues se hacía. No tocaba Java desde hacía años, y lo odio por motivos más allá de lo racional, pero, de aquella Kotlin todavía era un sueño muy bonito. Así que me puse a ello, y PUM! Ahí estaba otro pequeño “hijo mío”. ¿Mejorable? Seguro. Pero era un buen comienzo. ¿Envío de SMS a clientes a través de la aplicación propia de la tienda? “Agárrame el cubata..”.Eso sí, sufrir, sufrí, y mucho. Podéis imaginaos si la consigna es “Haz que funcione, y bien. Pero a coste 0”.Así, con todo, las cosas fueron saliendo, aunque de aquella iba tomando más contacto con el tema de la “Seguridad” y aunque nos defendíamos, notaba que mis carencias eran evidentes. Apenas la parte defensiva que me tocaba cubrir en mis tareas de Administrador de Sistemas y Redes del grupo de empresas para el que trabajaba. O como programador de nuestras aplicaciones, para construir aplicaciones más seguras. O llevando el tema de aplicación GPDR (la LOPD española y su posterior modificación) en la empresa.En torno a finales del 2016, me surgió la oportunidad de invertir un poco de dinero ahorrado en un Máster de CICE sobre Ciberseguridad y Hacking Ético (todavía creo que HackTheBox estaba empezando, o por lo menos no era el monstruo que es hoy en día). Era un campo que me llamaba la atención y del que conocía muy poco. Así que decidí sacrificar mis fines de semana (y a mi familia), con el fin de aprender más a fondo sobre este nuevo arte para mí. Por cierto, que te ayudaban a estudiar para obtener las certificaciones de CompTIA Security + y Certified Ethical Hacker. De aquella empecé a descubrir el mundo de las “certificaciones a cascoporro”, sus luces y sus sombras. Pero de eso, hablaremos más adelante.Lo que descubrí allí desató una nueva pasión que no había tenido hasta entonces. De hecho me reconcilió con mi faceta de desarrollador, de la que estaba un poco hastiado, he de decirlo. Y aunque tocamos muchos palos (de aquella me certifiqué en CompTIA Security + y CEH). Me enamoró especialmente, de entre todas las disciplinas, como el análisis de malware, reversing, forense, etc.), el hacking ético y el Pentesting, la faceta ofensiva de la Seguridad. ¡Y ayudando a las empresas a fortificarse! ¡Tratar de pensar como los malos, antes de que los malos de verdad hicieran pupa! ¡Ayudar a la gente a llevar una vida más segura! ¡Y encima cobrando por ello! ¿Pero eso podía ser verdad? Destaco aquí la labor docente de Miguel Ángel de Castro, que estaba entonces en ElevenPaths (ahora está en Crowdstrike, creo), y que se salió del temario convencional de CompTIA para darnos nociones de análisis de malware, reversing, pentesting,… Un crack.Mi pequeña nueva obsesión había nacido: Mamá…, perdón, “Cariño, quiero ser Pentester… y darle duro a esto del hacking… Pero en plan legal, ¿eh? Que a mis años no quiero un futuro de vis a vis en Carabanchel”…Pasaron los años y seguí leyendo los famosos libros de 0xword, leyendo los blogs de Angelucho, Chema “Maligno” Alonso - no, no “el tío del gorrito”, sino la cabeza que hay debajo, el referente… así que Respect!-. Y después el blog de Flu Project, donde empecé a seguir, además de a Juan Antonio Calles, a Pablo González Pérez,el que luego sería el futuro profesor y tutor del TFM que haría mas tarde: un “tío serio y formal”. El típico “yerno” que toda madre querría tener para su hija, pero no te equivoques: además es que es un tío que lleva en esto muucho tiempo, y que es un muy buen docente, a la par que un gran ponente y que también merece mi máximo respeto, junto con el genial Fran Ramírez. Después llegarían a mis ojos el blog de esos artistas de “los conejos”, “hackplayers”. o el de “The Hacker Way” de Adastra, que más tarde también tuve el placer de tener como profesor. Otro “fuera de serie”, “un sensei en toda regla”, junto con Lorenzo Martínez, de Securízame. Si no has asistido a ninguna de las conferencias de Lorenzo de “Memorias de Un Perito Informáticco Forense”, no sé a qué esperas. o haciendo cursos de Udemy, Cybrary, y otras plataformas que iban surgiendo, de lo que pillaba por ahí, en mi tiempo libre,. Todo de mi bolsillo, con mi dinero “ahorradico” (que soy muy ahorrador yo, cuando quiero). Como recursos en inglés, entonces empezaba a leer artículos de “Hacking Articles, de Raj Chandel” y otros.Empecé también a tomar notas, intentado mejorar el proceso en sí, cada vez más, que también es un arte. Ayudar a desarrollar un “segundo cerebro” para los momentos en que se me cortocircuita este. Uno ya no puede fiarse solo de su cabeza, y más cuando le has intentado meter, en muy poco tiempo, un montón de lenguajes de programación, comandos, y cosas así…También asistía a Conferencias de Ciber, como la Navaja Negra o H-C0n (mis favoritas) y otras de mayor o menor renombre, y coincidí allí con compis del máster (abrazotes a los Antonios, Victor, Juan, Jesús, Vic,…), así como otros cursos, conectando por Telegram con profesionales del Sector, haciendo más cursos presenciales, etc. Incluso dé alguna charla informal sobre SQLI (con más nervios que otra cosa, pero que no disgustó y a los que les debo una visita), en “La Brecha Digital”, en Vallecas. También montamos unos compis y yo una web para publicar cosas, llamada codethrashers, pero no llegó a prosperar por falta de tiempo de todos. Cosas que pasan. Desde aquí mando un abrazo muy fuerte especialmente a Adrián, José Antonio, e Israel. Chicos, al final no salió, pero lo pasamos bien.Lo cierto es que intervenía (e intervengo) poco en Telegram, foros o canales de Discord, aunque estoy en muchos de ellos. Y no sabía cómo publicar, sin publicar. Manteniniendo un “low profile” ¿Por qué? Porque, entre otras cosas, veía horrorizado como crucificaban a otros por el más mínimo error. Porque tenía miedo. Miedo al fracaso = Parálisis.Y llegó la pandemia. Yo caí con Covid de los primeritos, y me dejó bastante débil, pero me repuse y seguí. Durante un tiempo teletrabajé. La vida siguió y vi la oportunidad de hacer un nuevo máster a finales del 2020. Esta vez un máster online de Seguridad Ofensiva con una doble titulación de la Universidad Católica de Murcia(UCAM) y del ENIT (Campus Internacional de Ciberseguridad con la colaboración de Telefónica). En este punto diré que, si tienes algo de dinero ahorrado, un máster es una buena inversión si estás dispuesto a tomártelo en serio, a dar el 100% de lo que allí te vayan a contar, y a amortizar lo gastado, exprimiéndolo al máximo. Máxime si tienes un buen plantel de docentes y además obtienes un título universitario adicional con ello. Como ocurre con la realización de certificaciones (sobre todo con enfoque práctico), aunque no es necesario, acreditan que has dado lo que has dado y sabes lo que sabes. Pero al final vas a tener que demostrarlo igualmente. Arremangarte. Y los títulos por sí solos son “papeles”. Ahora mismo en Internet puedes conseguir el mismo conocimiento o superior, con recursos a coste 0 (o casi) si te sabes mover, buscar, y montarte tus propios laboratorios para practicar. De hecho lo recomiendo totalmente, como preparación, antes que “gastarse los dineros a lo loco”. Y luego ya si os decidías, aprovechareis mejor los contenidos de la formación pagada que escojáis después. Creedme, también he pasado por eso.Finalmente, en diciembre del 2020, una circunstancia en mi familia me hizo replantearme muchas cosas, y hasta llegué a tocar fondo, en lo profesional, y sobre todo en lo personal. Finalmente, esta serie de acontecimientos me llevaron, en marzo del 2021, a renunciar a mi trabajo, después de 12 años dándolo todo.Y aquí termina este post. Continuaré en el siguiente: Mis pequeños fracasos, o como yo prefiero llamarlos, tropiezos. ¿Qué es un camino sin obstáculos?" }, { "title": "Reboot... ¡en Español!", "url": "/posts/reboot_in_spanish/", "categories": "Blogging", "tags": "blog, knowledge, changes, cambios, tributo, angelucho, x1redmassegura, Spanish", "date": "2023-09-01 20:40:00 +0200", "snippet": "Desde hace ya algún tiempo, vengo publicando una serie de posts en Medium, en Inglés.Podéis encontrarlos aquíEs una plataforma en la que me siento bastante cómodo, pero una serie de motivos me han hecho reflexionar y pensar que voy a empezar a publicar más cosas también por aquí, para todos los hispanohablantes y en mi lengua materna: Medium cuenta con ciertas limitaciones en cuanto al número de visualizaciones que una persona puede realizar de su conjunto de artículos. Recientemente ha fallecido un gran referente en el campo de la ciberseguridad en el mundo del habla hispana: @ngelucho, quien ha dedicado gran parte de su vida al estudio de todo tipo de delitos relacionados con la ciberseguridad, pero especialmente a la divulgación y la enseñanza del uso de la red de forma segura, especialmente en el ámbito de las familias y su colectivo más vulnerable: los menores. Su blog ha sido de gran ayuda durante años: “El Blog de Angelucho”. Su libro, aún disponible de forma gratuita, en la página de la que durante mucho tiempo fuera su casa, el Grupo de Delitos Telemáticos de la Guardia Civil es un gran punto de partida para educar a nuestros hijos en un uso respondable de la Red de Redes. Sé que no estoy a la altura ni pretendo llenar ese enorme vacío, ni mucho menos, pero intentaré aportar mi pequeño granito de arena en este sentido para tocar esos puntos, cuando llegue el momento y seguir contribuyendo a tan buena causa. ¡Va por ti, maestro!Así pues, seguiré publicando en Medium preferiblemente en inglés, y aquí preferiblemente en español.También publicaré por aquí resoluciones de máquinas de TryHackme, HackTheBox, ProvingGrounds, etc., así como ciertos artículos relacionados con el Pentesting y la seguridad ofensiva en general, y los aspectos defensivos para mitigar posibles ataques. Laboratorios, certificaciones y proyectos personales en los que ande liado, también tendrán cabida aquí.Espero que sea del agrado de aquellos que lo lean, y si devuelvo a la comunidad una mínima parte de lo que ella me ha dado a mí todos estos años, me daré por satisfecho.¡Estad atentos! ¡Se vienen cambios!" }, { "title": "On the Road... again", "url": "/posts/on-the-road-again/", "categories": "Blogging", "tags": "blog, knowledge, intro, English", "date": "2020-01-03 19:40:00 +0100", "snippet": "Photo courtesy by Kevin Ku on Unsplash 1Here we go.After two failed web projects, a new try. This time with no pretentiousness at all. Only a way to put my thoughs in order about my day-to-day knowledge and my learning path in infosec, specially in the offensive area.Although I’ve worked for the last 20 years on software and web development, IT and System Administration (master of nothing, learner of everything), three years ago, I fell in love with cybersecurity: vulnerability analysis and penetration testing processes, exploiting, red teaming procedures, bug bounty hunting, etc.As a newbie in this field, I think I still can contribute and transmit one message: It’s never too late to improve your skills, and every day is a good day to learn something new… and put it into practice (ethically, of course)…So… Let’s have fun! https://unsplash.com/@ikukevk &amp;#8617; " } ]
